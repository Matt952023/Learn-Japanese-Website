/* Design tokens (CSS variables) placed on the root <html> element.
   You can reuse these values anywhere with var(--name). */
:root {
  --brand: rgb(150,240,150);                   /* Accent color (buttons, links, header) */
  --bg: #f4f4f9;                               /* Page background color (fallback/base) */
  --line: rgb(150, 240, 150);                 /* subtle border line color */
  --panel: rgb(130, 220, 130);                /* panel + active tab background */
  --text: #1f2330;                             /* Base text color */
  --font: system-ui, -apple-system, "Segoe UI",/* Font stack: prefer system fonts */
           Roboto, Arial, sans-serif;
}

/* Global document styling */
html {                         /* root element of the page */
  margin: 0;                       /* remove default browser margin */
  padding: 0;                      /* remove default browser padding */
  width: 100%;                     /* never be wider than the viewport */
  min-height: 100%;                /* at least as tall as the screen */
}

body {
  background-position: center 0; /* Start background from a known spot. */
  /* remove the default page gap */
  margin: 0;                       /* you already have this, safe to repeat */
  padding: 0;                      /* no extra padding around the page */
  width: 100%;                     /* keep the body the same width as the viewport */
  min-height: 100%;                /* let background cover full height */
  font-family: var(--font);                    /* Inherit font to all text unless overridden */
  color: var(--text);                          /* Default text color site-wide */

  /* The default background (NOT the background object) */
  /* Background shorthand:
     - #fff is the background-color (shows behind/under the image)
     - url(...) is the tiled image
     - repeat tiles the image in both directions
     If the image fails to load, #fff still shows. */
  background: #7cca1c url("img/jigsaw_background_pattern.svg") repeat;

  /* Scales each tile of the background image to 240×240px.
     Increase this for bigger tiles; decrease for a denser pattern. */
  background-size: 240px 240px;
}

/* The always-behind, scroll-slow background layer */
.bg {                                        /* Style the dedicated class object */
  position: fixed;                                /* Pin to the viewport */
  inset: 0;                                       /* Fill the entire screen */
  z-index: 0;                                     /* Behind page content */
  pointer-events: none;                           /* Clicks pass through */
  background: #7cca1c url("img/jigsaw_background_pattern.svg") repeat; /* Same pattern as before */
  background-size: 240px 240px;                   /* Same tile size */
  background-position: center 0;                  /* Start position for JS */
}

/* Keep your content above the layer */
header, .alphabet, .learning {                               /* Lift header and main above .bg-slow */
  position: relative;                             /* Create stacking context */
  z-index: 1;                                     /* Ensure they sit on top */
}

/* Site header banner */
header {
    background: var(--brand);                  /* Brand-colored bar across the top */
    color: black;                              /* Ensure header text contrasts on brand color */
    padding: 1rem 1.25rem;                     /* Top/bottom 1rem; left/right 1.25rem spacing */
    font-size: 2.25rem;                        /* Scales with root font size (2.25 × root).
                                                  ~36px if root is 16px (2.25*16 = 36). */
    inline-size: 100%;          /* use 100% so it matches the page width (excludes scrollbar width) */
    box-sizing: border-box;     /* makes the padding count inside the 100%, preventing spillover */
    position: relative; /* lets z-index work if needed */
    z-index: 1;         /* keeps the shadow above following content */
}

header::after {                       /* decorative shadow element AFTER header content */
  content: "";                        /* required to create the pseudo-element */
  position: absolute;                 /* position it relative to the header */
  left: 0;                            /* stretch full width (no horizontal gradient) */
  right: 0;                           /* ...continued */
  top: 100%;                          /* place just below the header’s bottom edge */
  height: 100px;                      /* shadow depth (tweak as you like) */
  pointer-events: none;               /* don’t block clicks on content below */
  background: linear-gradient(        /* vertical-only gradient */
    to bottom,                        /* direction: top → bottom */
    rgba(0, 0, 0, 0.50),            /* start darker at the very top */
    rgba(0, 0, 0, 0)                /* fade to transparent */
  );
}





/* ====== Container Styling for Alphabet Tables Window ====== */
.alphabet {                          /* targets your <main class="alphabet"> wrapper */
  max-width: 900px;                  /* keeps the window from getting too wide */
  margin: 10rem auto;                 /* centers horizontally with space above/below */
  background: var(--brand);          /* background color for the window */
  border-radius: 16px;               /* nice rounded corners */
  padding: 1.25rem;                  /* inner breathing room */
  box-shadow: 0 10px 25px rgba(0,0,0,0.50); /* soft drop shadow */

  --glyph-size: clamp(2rem, 6vw, 5rem);          /* big kana characters: min 1.8rem, scale with viewport, cap at 3.6rem */
  --label-size: clamp(1rem, 3vw, 2.5rem);      /* smaller row/column labels so kana stay dominant */
  --cell-pad: clamp(0.35rem, 1.2vw, 0.75rem);      /* cell padding that scales mildly with screen size */
}

/* ----- Table styling ----- */
.alphabet-content > h2 {                               /* only the heading inside the panel */
  font-size: clamp(2rem, 3.2vw, 2.5rem);               /* fluid size: modest min/max so it doesn’t explode */
  font-weight: 800;                                    /* strong amount of bolding on the text */
  line-height: 1.1;                                    /* tighten vertical leading around the text */
  margin-block: 0.25em 0.5em;                          /* smaller top/bottom margins, scale with font size */
  text-align: center;                                  /* center the heading text */
}

.alphabet .kana-chart,                      /* target the Katakana table inside your window */
.alphabet .gana-chart {                     /* and the Hiragana table */
  border-collapse: collapse;                /* merge adjacent cell borders so no gaps can show */
  border-spacing: 0;                        /* extra safety: kill any spacing (Safari/old UA quirks) */
  width: 100%;                              /* let them shrink to fit the panel */
  table-layout: fixed;                      /* distribute column widths evenly */
}

/* Cells that contain kana glyphs */
.alphabet .kana-chart td,                          /* target all td (glyph) cells in Katakana table */
.alphabet .gana-chart td {                         /* target all td (glyph) cells in Hiragana table */
  font-size: var(--glyph-size);                    /* apply the fluid glyph size */
  text-align: center;                              /* center kana horizontally */
  vertical-align: middle;                          /* center kana vertically */
  padding: var(--cell-pad);                        /* breathing room around the glyph */
  line-height: 1.1;                                /* tight line-height to keep glyphs vertically snug */
}

/* Header cells (row labels like k / t and column labels a/i/u/e/o) */
.alphabet .kana-chart th,                          /* th in Katakana table */
.alphabet .gana-chart th {                         /* th in Hiragana table */
  font-size: var(--label-size);                    /* smaller than glyphs but still readable */
  text-align: center;                              /* center header text */
  vertical-align: middle;                          /* vertical centering for headers */
  padding: calc(var(--cell-pad) * 0.75);           /* slightly less padding than glyph cells */
  font-weight: 600;                                /* a touch bolder for clarity */
}

/* Optional cosmetics: faint grid lines for readability */
.alphabet .kana-chart th,
.alphabet .kana-chart td,
.alphabet .gana-chart th,
.alphabet .gana-chart td {
  border: 6px solid var(--line);                   /* reuse your existing --line color for consistency */
}

.romanji {                     /* the tiny romaji label under each kana */
  display: block;          /* puts it on its own line below the glyph */
  font-size: 0.5em;        /* half the size of the kana in that cell */
  margin-top: 0.15em;      /* tiny gap between glyph and label */
  opacity: 0.80;           /* slightly lighter so glyph stays primary */
  letter-spacing: 0.02em;  /* improves legibility at small sizes */
  text-align: center;      /* center under the glyph */
}

/* ----- Tabs bar ----- */
.nav {                                        /* the <ul id="nav-tab" class="nav"> */
  display: flex;                              /* lay out tabs in a row */
  list-style: none;                           /* remove default bullets */
  padding: 0;                                 /* remove default UL padding */
  margin: 0;                                  /* remove default UL margin (kills the gap) */
}

.nav li {                                     /* each list item around a tab link */
  flex: 1 1 0%;                               /* make every tab take an equal slice (2 tabs → two halves) */
  margin: 0;                                  /* reset default margins */
}

.nav a {                                      /* the clickable tab links */
  display: flex;                              /* allow tab to dynamically match window length */
  padding: 0.5rem 0.75rem;                    /* click target size */
  justify-content: center;                    /* centers text horizonally */
  text-decoration: none;                      /* no underline */
  font-size: clamp(1rem, 2.2vw, 2rem);        /* dynamic label size: 16px → ~32px as window grows */
  font-weight: 600;                           /* a touch bolder for clarity */
  color: var(--text);                         /* default tab text color */
  background: transparent;                    /* inactive tabs sit on the page */
  border: 2px solid transparent;              /* prepare for active state without shifting */
  border-bottom: 0;                           /* no bottom border so it can fuse with panel */
  border-radius: 10px 10px 0 0;               /* rounded top corners */
}

/* Active tab (by li.active or aria-selected="true") */
.nav li.active a,
.nav a[aria-selected="true"] {
  animation: fadeIn 160ms ease;               /* tiny polish */
  background: var(--panel);                   /* same bg as the panel for a seamless join */
  color: #252525;                           /* darker text for contrast */
  border-color: var(--line);                  /* draw left/top/right borders */
  border-bottom-color: transparent;           /* no bottom border => touches the panel */
}

/* ----- Panels ----- */
.alphabet-content[hidden] {                   /* when a panel has the 'hidden' attribute */
  display: none;                              /* remove from layout */
}

.alphabet-content {                           /* visible content panel */
  display: flex;                              /* enable flex layout */
  flex-direction: column;                     /* stack header and table vertically */
  align-items: stretch;                       /* let children fill the panel width */
  overflow-x: auto;                           /* if something is wider, allow horizontal scroll */
  animation: fadeIn 160ms ease;               /* tiny polish */
  background: var(--panel);                   /* same bg as active tab for continuity */
  border: 2px solid var(--line);              /* panel border to match tabs’ line */
  border-top: 0;                              /* remove top border to fuse with active tab */
  border-radius: 0 0 10px 10px;               /* rounded bottom corners */
  margin-top: 0;                              /* no extra space above */
  padding: 0.75rem 1rem;                      /* breathing room for content */
  max-width: 100%;                            /* don’t let the panel itself exceed the window */
}

/* simple keyframes for the fade-in */
@keyframes fadeIn {
  from { opacity: 0; }               /* start transparent */
  to   { opacity: 1; }               /* end fully visible */
}





/* ====== Container Styling for Lessons and Quizzes Window ====== */
.learning {                          /* targets your <main class="alphabet"> wrapper */
  max-width: 900px;                  /* keeps the window from getting too wide */
  margin: 10rem auto;                 /* centers horizontally with space above/below */
  background: var(--brand);          /* background color for the window */
  border-radius: 16px;               /* nice rounded corners */
  padding: 1.25rem;                  /* inner breathing room */
  box-shadow: 0 10px 25px rgba(0,0,0,0.50); /* soft drop shadow */

  --glyph-size: clamp(3.6rem, 6vw, 5rem);         /* big kana characters: min 1.8rem, scale with viewport, cap at 3.6rem */
  --label-size: clamp(1.8rem, 3vw, 2.5rem);       /* smaller row/column labels so kana stay dominant */
  --cell-pad: clamp(0.7rem, 1.2vw, 0.75rem);      /* cell padding that scales mildly with screen size */
}

.lesson-content,.quiz-content {               /* visible content panel */
  animation: fadeIn 160ms ease;               /* tiny polish */
  background: var(--panel);                   /* same bg as active tab for continuity */
  border: 2px solid var(--line);              /* panel border to match tabs’ line */
  border-top: 0;                              /* remove top border to fuse with active tab */
  border-radius: 0 0 10px 10px;               /* rounded bottom corners */
  margin-top: 0;                              /* no extra space above */
  padding: 0.75rem 1rem;                      /* breathing room for content */
}

/* ----- Table styling ----- */
.lesson-content > h2, .quiz-content > h2 {                               /* only the heading inside the panel */
  font-size: clamp(2rem, 3.2vw, 2.5rem);            /* fluid size: modest min/max so it doesn’t explode */
  font-weight: 800;                                    /* strong amount of bolding on the text */
  line-height: 1.1;                                    /* tighten vertical leading around the text */
  margin-block: 0.25em 0.5em;                          /* smaller top/bottom margins, scale with font size */
  text-align: center;                                  /* center the heading text */
}

.item-list {                           /* wraps lesson/quiz rows */
  list-style: none;                    /* remove default bullets */
  margin: 0;                           /* reset margins */
  padding: 0;                          /* reset padding */
  display: grid;                       /* grid for clean vertical rhythm */
  gap: 0.75rem;                        /* space between rows */
}

.item {                                             /* the <details> “card” */
  font-size: clamp(1rem, 1.6vw, 2.5rem);            /* fluid size: modest min/max so it doesn’t explode */
  background: var(--brand);                         /* branded color body */
  border-radius: 10px;                              /* rounded corners */
  box-shadow: 0 1px 6px rgba(0,0,0,.12);          /* soft shadow */
  overflow: hidden;                                 /* hide inner overflow */
}

.item > summary {                      /* clickable header area */
  cursor: pointer;                     /* pointer cursor */
  padding: 0.85rem 1rem;               /* comfy click target */
  font-weight: 600;                    /* stronger (bolder) label */
  outline: none;                       /* let focus style handle outline */
  list-style: none;                    /* remove default marker */
}

.item .item-body {                     /* revealed content */
  padding: 0.85rem 1rem;               /* inner spacing */
  line-height: 1.5;                    /* readable lines */
  font-size: 1rem;                     /* slightly smaller body text */
}


/*===== QUIZ CONTENT ======*/

/* force a single column for quiz list */
#quiz .item-list {                  /* target just the quiz panel's list */
  display: grid;                    /* grid gives easy single-column control */
  grid-template-columns: 1fr;       /* one column that fills the width */
  gap: 0.75rem;                     /* vertical spacing between items */
}

#quiz .item {                       /* the dropdown “card” in quizzes */
  width: 100%;                      /* stretch across the column */
}

#quiz button:hover:not(:disabled) { /* when hovering over an active button */
  filter: brightness(0.97);                      /* make the whole button just a bit darker */
}

#quiz button:active:not(:disabled) { /* when pressing the button */
  filter: brightness(0.92);                       /* darker while pressed */
  transform: translateY(1px);                     /* tiny downward nudge for a “press” feel */
}

.start-quiz {
  font-weight: 600;
  color: var(--text);
  padding: 0.6rem 0.75rem;          /* comfy touch target */
  border-radius: 8px;               /* rounded look */
  border-width: 3px;
  border-color: rgba(0, 0, 0, 0.3);          /* DIM the existing border without changing its style */
  background: var(--brand);         /* white background */
  cursor: pointer;                  /* clickable cursor */
}

/* small visual polish for the inline quiz UI */
.inline-quiz {                      /* the container JS injects */
  margin-top: 0.75rem;              /* space from the button/summary */
  border-radius: 10px;              /* rounded corners */
  background: var(--panel);
  padding: 0.75rem;                 /* inner spacing */
}
.inline-quiz h3 {                   /* question header */
  margin: 0 0 0.5rem;               /* tighten spacing */
  font-size: 1.1rem;                /* modestly larger */
}

.inline-quiz .choices {                    /* layout for the container holding the four answers */
  display: grid;                           /* use CSS grid to arrange the buttons */
  grid-template-columns: 1fr 1fr;              /* default: single column layout */
  gap: 0.5rem;                             /* space between the buttons */
  margin-bottom: 0.75rem;                  /* breathing room under the answers */
}

.inline-quiz button.choice {        /* each answer button */
  width: 100%;                      /* full width for easy tapping */
  padding: 0.6rem 0.75rem;          /* comfy touch target */
  border-radius: 8px;               /* rounded look */
  border-width: 3px;
  border-color: rgba(0, 0, 0, 0.3);          /* DIM the existing border without changing its style */
  background: var(--brand);         /* white background */
  font-weight: 700;                        /* bold label to stand out */
  color: var(--text);
  font-size: 1.5rem;                         /* slightly larger text */
  cursor: pointer;                  /* clickable cursor */
}
.inline-quiz button.choice:disabled {               /* style only disabled answer buttons */
  opacity: 0.60;                                    /* fade the whole button to look inactive */
  cursor: default;                                  /* go back to the normal arrow cursor */
  border-color: rgba(0, 0, 0, 0.30);                /* soften the border even more when disabled */
  background: var(--brand);                         /* keep the same base color (or adjust if you prefer) */
}

.inline-quiz .next {
  width: 10%;                      /* full width for easy tapping */
  padding: 0.6rem 0.75rem;          /* comfy touch target */
  border-radius: 8px;               /* rounded look */
  border-width: 3px;
  border-color: rgba(0, 0, 0, 0.3);          /* DIM the existing border without changing its style */
  font-weight: 600;
  background: var(--brand);         /* white background */
  cursor: pointer;                  /* clickable cursor */
}
.inline-quiz .status {              /* per-question feedback area */
  font-size: clamp(1rem, 1.6vw, 2.5rem);            /* fluid size: modest min/max so it doesn’t explode */
  color: var(--text);
  font-weight: 600;
  min-height: 1.25rem;              /* reserve space to avoid layout jump */
  margin-bottom: 0.5rem;            /* a little gap */
  text-align: center;               /* center the heading text */
}
.inline-quiz .score {               /* final score display */
  font-size: clamp(1rem, 1.6vw, 2.5rem);            /* fluid size: modest min/max so it doesn’t explode */
  color: var(--text);
  font-weight: 700;                 /* emphasize score */
  margin-top: 0.5rem;               /* space above score */
}

/* ----- MOBILE SETTINGS ----- */
@media (max-width: 800px) {                /* apply these styles only on screens 600px wide or more */
  .inline-quiz .choices {                  /* change layout for larger screens */
    grid-template-columns: 1fr;        /* two equal-width columns (2 buttons per row) */
  }
  .inline-quiz h3 {                    /* question heading inside the quiz */
    font-size: 2rem;                 /* make the heading text larger */
  }
  .inline-quiz button.choice {
    font-size: 1.5rem;
  }
  .inline-quiz .next {
    font-size: 1.5rem;
    width: auto;                       /* let it shrink to content size */
    display: inline-block;             /* keep it sized to its text */
  }
  .inline-quiz .status {               /* feedback text like “Correct!” */
    font-size: 1.4rem;                 /* bump up the size a bit */
  }
  .inline-quiz .score {                /* final score display */
    font-size: 1.4rem;                 /* make the score stand out more */
  }
}